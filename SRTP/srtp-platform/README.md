# 基于RSA数字签名技术的安全校园二手交易平台

这是一个使用RSA数字签名技术来保障交易安全的校园二手交易平台。该平台为校园用户提供了一个安全可靠的二手物品交易环境。

## 项目特点

- **RSA数字签名交易验证**：使用非对称加密技术确保交易安全，防止交易欺诈
- **完整的用户认证系统**：支持注册、登录、密码重置
- **商品管理**：发布、查看、修改和删除商品
- **交易流程**：支持买家发起交易、卖家确认、交易取消等功能
- **安全机制**：私钥由用户自行保存，交易需要通过数字签名验证

## 技术栈

- 后端：Python + Flask
- 数据库：SQLite
- 前端：HTML + CSS (Bootstrap 5) + JavaScript
- 密码学：RSA非对称加密 + 数字签名

## 主要功能

### 用户功能

1. **用户注册**：生成RSA密钥对，公钥存储在服务器，私钥返回给用户保存
2. **用户登录**：使用用户名和密码登录
3. **密码重置**：通过邮箱验证重置密码

### 商品功能

1. **发布商品**：添加标题、描述、价格和图片
2. **浏览商品**：查看所有可购买的商品
3. **商品详情**：查看商品的详细信息
4. **商品管理**：卖家可以管理自己发布的商品

### 交易功能

1. **发起交易**：买家使用私钥对交易数据进行签名，发起购买请求
2. **交易确认**：卖家确认交易完成
3. **交易取消**：买家或卖家可以取消未完成的交易
4. **交易记录**：查看自己的购买和销售记录

## 安全特性

- **密码安全**：用户密码使用bcrypt算法加密存储
- **RSA签名验证**：交易过程中使用RSA数字签名验证交易真实性
- **交易数据保护**：敏感交易数据使用加密存储

## 使用方法

1. 安装依赖：
```
pip install -r requirements.txt
```

2. 初始化数据库：
```
python app.py
```

3. 访问应用：
打开浏览器，访问 http://127.0.0.1:5000

## 项目结构

```
srtp-platform/
├── app.py                # 主应用文件
├── srtp.db               # SQLite数据库
├── static/               # 静态文件目录
│   ├── js/               # JavaScript文件
│   └── uploads/          # 上传的图片存储目录
└── templates/            # HTML模板
    ├── base.html         # 基础模板
    ├── browse.html       # 浏览商品页面
    ├── error.html        # 错误页面
    ├── forgot_password.html  # 忘记密码页面
    ├── index.html        # 首页
    ├── item_detail.html  # 商品详情页面
    ├── login.html        # 登录页面
    ├── my_items.html     # 我的商品页面
    ├── my_transactions.html  # 我的交易页面
    ├── post.html         # 发布商品页面
    ├── register.html     # 注册页面
    └── reset_password.html   # 重置密码页面
```

## 注意事项

1. 此项目为演示目的，在实际部署前需要：
   - 配置真实的邮件服务器
   - 使用HTTPS确保数据传输安全
   - 增加更多的安全防护措施（如防CSRF、XSS等）

2. 私钥在实际使用中应该：
   - 由用户安全保存，避免泄露
   - 在本地进行签名，而非传输到服务器

## 改进方向

1. 添加实时聊天功能，方便买卖双方交流
2. 完善商品分类和搜索功能
3. 增加评价和信用系统
4. 添加商品推荐功能
5. 支持多种交易方式
6. 改进前端交互体验
7. 为移动设备优化界面 